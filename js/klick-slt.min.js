var klick_slt_send_command=function(a,t,s,e){e="undefined"==typeof e||e;var l={action:"klick_slt_ajax",subaction:a,nonce:klick_slt_ajax_nonce,data:t};jQuery.post(ajaxurl,l,function(a){if(e)try{var t=JSON.parse(a)}catch(l){return console.log(l),void console.log(a)}else var t=a;"undefined"!=typeof s&&s(t)})};jQuery(document).ready(function(a){klick_slt=klick_slt(klick_slt_send_command)});var klick_slt=function(a){function t(a){var t=r(".klick-slt-form-wrapper").serialize();return console.log(t),t}function s(){r(".klick-slt-overlay").show();var t="reload=1";a("klick_slt_reload",t,function(a){r(".klick-slt-overlay").hide(),r(".slt-list-table").html(a.data)})}function e(){r("#klick_slt_plugin_name").val("")}function l(){r("#klick_slt_add_link").hide(),r(".slt-list-container").show(),r("#klick_slt_link_list").show()}function n(){r("#klick_slt_link_list").hide(),r(".slt-list-container").hide(),r("#klick_slt_add_link").show()}function i(a){var t=/^[a-zA-Z0-9-_]+$/;return a.search(t)==-1}function o(a,t){return r(""+a).addClass("klick-notice-message notice notice-error is-dismissible"),r(""+a).html("<p>"+t+"</p>"),r(""+a).slideDown(),r("#klick_slt_link_save").attr("disabled","disabled"),!1}var r=jQuery;r(".klick-slt-overlay").hide(),r("#klick_slt_add_link").hide(),r("#klick_slt_nav_tab_wrapper .nav-tab").click(function(a){a.preventDefault();var t=r(this).attr("id");if(t&&"klick_slt_nav_tab_"==t.substring(0,18)){var t=t.substring(18);r("#klick_slt_nav_tab_wrapper .nav-tab:not(#klick_slt_nav_tab_"+t+")").removeClass("nav-tab-active"),r(this).addClass("nav-tab-active"),r(".klick-slt-nav-tab-contents:not(#klick_slt_nav_tab_contents_"+t+")").hide(),r("#klick_slt_nav_tab_contents_"+t).show()}}),r("#klick_slt_link_add").click(function(a){a.preventDefault(),n(),e()}),r("#klick_slt_link_cancel").click(function(a){a.preventDefault(),r(".klick-notice-message").html(""),r(".klick-notice-message").css("display","none"),r(".klick-ajax-notice").html(""),r(".klick-ajax-notice").css("display","none"),l()}),r("#klick_slt_link_save").on("click",function(e){e.preventDefault();var n="add",i=t(n);a("klick_slt_save_settings",i,function(a){1==a.status.status&&(s(),l(),r(".klick-ajax-message").html(a.status.messages),r(".klick-ajax-message").slideDown(),r(".fade").delay(2e3).slideUp(200,function(){})),2==a.status.status&&(r(".klick-ajax-message").html(a.status.messages),r(".klick-ajax-message").slideDown(),r(".fade").delay(1e4).slideUp(200,function(){}))})}),r(document).on("click",".klick-slt-delete-row",function(t){t.preventDefault(),r(".klick-slt-overlay").show();var e=r(this).attr("data-id"),l="name="+e;console.log(l),a("klick_slt_delete_row",l,function(a){a.status===!0&&s()})}),r("#klick_slt_plugin_name").keyup(function(){r("#klick_slt_link_save").attr("disabled",!1);var a=r.trim(r("#klick_slt_plugin_name").val());i(a)===!0?o(".klick-notice-message",klick_slt_admin.notice_for_slug_name):r(".klick-notice-message").slideUp()}),r(document).on("click",".details-link-close",function(){r(this).parent().parent().css("display","none")}),r(document).on("click",".details-link",function(){r(".overlay").css("display","none"),r(this).parent().next().css("display","block"),Chart.defaults.global.maintainAspectRatio=!1,Chart.defaults.global.scaleLabel="<%=parseInt(value).toLocaleString()%>";var a;a=r(this).attr("data-id");var t={},t={slug:a,l10n:{all_time:"All Time",date:"Date",downloads:"Downloads",noData:"No data yet",today:"Today",yesterday:"Yesterday",last_week:"Last Week"}};r("#"+a).find("#download_summary").html(""),r("#"+a).find("#details_summary").html(""),r(".download-loader").show(),r.ajax({url:"https://api.wordpress.org/stats/plugin/1.0/downloads.php?slug="+a+"&historical_summary=1&callback=?",type:"GET",cache:!1,dataType:"jsonp",success:function(t){r(".download-loader").hide(),r("#"+a).find("#download_summary").append("<span>Today : "+t.today+"</span>"),r("#"+a).find("#download_summary").append("<span>Yesterday : "+t.yesterday+"</span>"),r("#"+a).find("#download_summary").append("<span>Last_week : "+t.last_week+"</span>"),r("#"+a).find("#download_summary").append("<span>All_time : "+t.all_time+"</span>")}}),r.ajax({url:"https://wordpress.org/plugins/wp-json/plugins/v1/plugin/"+a,type:"GET",cache:!1,dataType:"json",success:function(t){r(".download-loader").hide();var s="";r("#"+a).find("#details_summary").append("<span>Active Installs : "+t.active_installs+"</span>"),r("#"+a).find("#details_summary").append("<span>Version : "+t.version+"</span>"),r("#"+a).find("#details_summary").append("<span>Last Updated : "+t.last_updated+"</span>"),r("#"+a).find("#details_summary").append("<span>Author : "+t.author+"</span>"),r("#"+a).find("#details_summary").append("<span>Requires WP version : "+t.requires+"</span>"),r("#"+a).find("#details_summary").append("<span>Tested up to : "+t.tested+"</span>");var e="",l="",n="",i="";r.each(t.tags,function(a,t){e+="<a href='https://wordpress.org/plugins/tags/"+t+"' target='_blank'>"+t+"</a>"}),r("#"+a).find("#details_summary").append("<span class='tags'>Tags : "+e+"</span>");var l=t.rating/20,o=["empty","empty","empty","empty","empty"];if(l>0&&l<=.5)var o=["half","empty","empty","empty","empty"];if(l>.5&&l<=1)var o=["filled","empty","empty","empty","empty"];if(l>1&&l<=1.5)var o=["filled","half","empty","empty","empty"];if(l>1.5&&l<=2)var o=["filled","filled","empty","empty","empty"];if(l>2&&l<=2.5)var o=["filled","filled","half","empty","empty"];if(l>2.5&&l<=3)var o=["filled","filled","filled","empty","empty"];if(l>3&&l<=3.5)var o=["filled","filled","filled","half","empty"];if(l>3.5&&l<=3)var o=["filled","filled","filled","filled","empty"];if(l>4&&l<=4.5)var o=["filled","filled","filled","filled","half"];if(l>4.5&&l<=5)var o=["filled","filled","filled","filled","filled"];var d=0;"empty"===o[0]&&(d=1),n+='<div class="rating">',n+='<div class="wporg-ratings" aria-label="5 out of 5 stars" data-title-template="'+l+' out of 5 stars" data-rating="4">',1===d?n+="<span>"+klick_slt_admin.rating_notice+"</span>":(n+='<span class="dashicons dashicons-star-'+o[0]+'"></span>',n+='<span class="dashicons dashicons-star-'+o[1]+'"></span>',n+='<span class="dashicons dashicons-star-'+o[2]+'"></span>',n+='<span class="dashicons dashicons-star-'+o[3]+'"></span>',n+='<span class="dashicons dashicons-star-'+o[4]+'"></span>'),n+="</div>",n+="</div>",r("#"+a).find("#rating").html(""),r("#"+a).find("#rating").append(""+n);var i=[];jQuery.each(t.ratings,function(a,t){i.push(t)}),i=i.reverse(),s="<ul class='ratings-list'>",r.each(i,function(t,e){var l=100*e/1e3;s+='<li class="counter-container">',s+='<a href="https://wordpress.org/support/plugin/'+a+"/reviews/?filter="+(5-t)+'" target="_blank">',s+='<span class="counter-label">'+(5-t)+" stars</span>",s+='<span class="counter-back">',s+='<span class="counter-bar" style="width: '+l+'%;"></span>',s+="</span>",s+='<span class="counter-count">'+e+"</span>",s+="</a>",s+="</li>"}),s+="</ul>",r("#"+a).find("#ratings").html(""),r("#"+a).find("#ratings").append(""+s);var c="";c+="<ul class='contributors-list' id='contributors_list'>",r.each(t.contributors,function(a,t){c+="<li>",c+='<img alt="" src="'+t.avatar+'" srcset="'+t.avatar+'" class="avatar avatar-32 photo" height="32" width="32">',c+='<a href="'+t.profile+'" target="_blank">'+t.display_name+"</a>",c+="</li>"}),c+="</ul>",r("#"+a).find("#contributors").html(""),r("#"+a).find("#contributors").append(""+c)}}),r.ajax({url:"https://api.wordpress.org/stats/plugin/1.0/downloads.php?slug="+a+"&limit=267&callback=?",type:"GET",cache:!1,dataType:"jsonp",success:function(t){var s=[],e=[],l=[],n=0,i=new Date,o=i.getMonth();o-=6,r.each(t,function(a,t){formattedKey=new Date(a);var e=formattedKey.getMonth();e>=o&&(e==o?n+=parseInt(t):(s.push(o),l.push(n),n=0,o+=1))});var d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.each(s,function(a,t){e.push(d[t+1])});var c=document.getElementById(""+a+"_myChart").getContext("2d");new Chart(c,{type:"line",data:{labels:e,datasets:[{label:"# of Downloads",data:l,borderWidth:2,borderColor:"#357edd",backgroundColor:"#357edd",fill:!1,pointRadius:1}]},options:{scales:{yAxes:[{ticks:{callback:function(a,t,s){return a.toLocaleString()},beginAtZero:!1}}]},tooltips:{enabled:!0}}})}}),google.charts.load("current",{packages:["corechart"]}),r.getJSON("https://api.wordpress.org/stats/plugin/1.0/?slug="+t.slug+"&callback=?",function(a){var s=document.getElementById(""+t.slug+"_plugin-version-stats");return 0===a.length?void r("#"+t.slug+"_plugin-version-stats").text(t.l10n.noData):void google.charts.setOnLoadCallback(function(){var t,e,l=[""],n=[""],i=[],o=0;r.each(a,function(a){i.push(a)}),i.sort(function(a,t){return a=a.split("."),t=t.split("."),a[0]!==t[0]?a[0]-t[0]:a[1]-t[1]}),"other"===i[i.length-1]&&i.unshift(i.pop()),i.forEach(function(t){l.push(t),n.push(a[t])}),t=google.visualization.arrayToDataTable([l,n]),e=new google.visualization.NumberFormat({fractionDigits:1,suffix:"%"}),r.each(n,function(a){n[a]&&e.format(t,++o)}),new google.visualization.BarChart(s).draw(t,{legend:{position:"bottom"},chartArea:{left:"0",width:"100%",height:"80%",top:"10%"},hAxis:{gridlines:{color:"transparent"}},isStacked:!0})})})})};